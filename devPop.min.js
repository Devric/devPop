(function(){var c,a,d,b;c=jQuery;c(document).ready(function(){c(".popit").devPop({debug:true});return c("head").append('<link rel="stylesheet" type="text/css" href="">')});c.fn.extend({devPop:function(g){var f,j,e,i,h;h={width:500,height:600,debug:false};h=c.extend(h,g);window.log=function(k){if(h.debug){return typeof console!=="undefined"&&console!==null?console.log(k):void 0}};i=h;j=c("#devPop");e=j.find(".devPopModal");f=j.find(".devPopBg");log("+ create modal");a(i.height,i.width);return this.each(function(){var m,k,l;log("** devPop init for: "+c(this).attr("href"));l=c(this);m=l.attr("href");k=c(m);log("+ setup dom");b(l);c(window).scroll(function(){return c("#devPop").css({top:c(window).scrollTop()})});l.on("click",function(n){n.preventDefault();if(c(".devPopModal:animated").length<1){d(l,i.width,i.height);return _openModal(l)}});c("body").on("click","html, .devPopBg, .devPopModal span.close",function(n){n.preventDefault();if(c(".devPopModal:animated").length<1){return _closeModal()}});return log("\n========== END =========== \n ")})}});a=function(e,i){var g,h,j,f;log(" - creating modal init");log(" - building containers");f='<div class="devPopModal" />';h='<span class="close">X</span>';h=c(h);g='<div class="devPopBg" />';g=c(g);f=c(f).prepend(h);j='( <div id="devPop" /> )';j=c(j);j=j.prepend(f);j=j.prepend(g);c("body").prepend(j);log(" - building styles");h.css({"z-index":2140000010});f.css({width:i,height:e,top:-e,"z-index":2140000006});g.css({width:"100%",height:"100%","z-index":2140000003});return j.css({display:"none","z-index":2140000000})};b=function(i){var k,j,h,g,f,e;j=i.attr("href");f=c(j);k=c("#devPop");h=k.find(".devPopModal");e=c(window).width();g=h.outerWidth();log(" - hide container on init");f.css({display:"none"});log(" - relocate target to modal");f.prependTo(h);return h.css({left:(e-g)/2})};d=function(j,l,h){var i,g,f,k,e;log(" - rebuild size if data- exists");i=c("#devPop .devPopModal");f=j.data("height");k=j.data("width");i.css({height:f?f:h,width:k?k:l});g=i.outerWidth();e=c(window).width();i.css({left:(e-g)/2});if(!j.data("unlock")){return c("html").addClass("noscroll")}};window._openModal=function(h){var g,i,f,e,j;i=c("#devPop");g=i.find(".devPopBg");f=i.find(".devPopModal");e=h.attr("href");e=c(e);j=h.data("top");log(" - show conainer");i.show();log(" - show hide related content");e.show().siblings("div").hide();log(" - animate bg and modal");return g.animate({opacity:1},250,function(){return f.animate({top:(j?j:0)},500)})};window._closeModal=function(){var f,g,e;g=c("#devPop");f=g.find(".devPopBg");e=g.find(".devPopModal");e.animate({top:-1000},"fast",function(){return f.animate({opacity:0},"slow",function(){return c("#devPop").hide()})});return c("html").removeClass("noscroll")}}).call(this);